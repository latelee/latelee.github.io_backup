---
layout: post
title: 
keywords: 
category: 技术笔记
tags : [notes]
---

<!-- more -->


出现错误提示：
```
Too many open files
```

查看句柄数：
```
lsof -p 120601 | wc -l
```
查看占用句柄最多的进程，并排序：
```
 lsof -n|awk '{print $2}'|sort|uniq -c|sort -nr|more
```
输出结果：
```
   1365 12056
    940 12609
    840 12186
    808 12011
    796 12208
    752 12209
    696 12193
    680 12502
    628 12009
    624 18284
    624 12439
    620 12972
    592 12583
    588 12293
    588 11942
    580 12163
    550 12326
    512 12103
    508 12207
    500 12032
    498 12097
    492 11987
--More--
```
第一列为句柄数量，第二列为进程ID号。


修改值：
```
ulimit -n 65536
```