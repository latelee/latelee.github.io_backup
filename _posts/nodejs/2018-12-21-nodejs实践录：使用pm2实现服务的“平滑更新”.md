---
layout: post
title: 
keywords: 
category: nodejs
tags : [nodejs]
---
pm2 使用
<!-- more -->
## 命令
### 生成ecosystem.config.js文件
在工程目录输入：  
```
pm2 ecosystem
```
### 启动
```
pm2 start(有ecosystem.config.js情况下)
pm2 start app.js（指定某个js文件）
```

### 重启

```
pm2 startOrGracefulReload ecosystem.config.js
```

```
pm2 startOrRestart ecosystem.config.js
```

```
pm2 reload ecosystem.config.js
pm2 reload all // 重载所有进程
pm2 reload foobar // 只重载foobar实例
```

```
pm2 restart ecosystem.config.js
pm2 restart all
```
注意，restart会重新启动进程，如果是socket服务，会提示端口被占用

### 删除所有pm2管理的进程：
```
pm2 kill
```

### 集群模式下调整实例数量

```
pm2 scale <实例名称> <数量>
pm2 scale app 4

```
